<h1>Contact Me</h1>

<div class="formBox" [hidden]="submitted">
  <form #contactForm="ngForm" (ngSubmit)="onSubmit()">
    <!-- this is to see the dynamic data changes in the form.. delete when done -->
    {{model | json}}
    <div class=" form-group">
      <label for="name">Name</label>
      <br>
      <input type="text" #name='ngModel' class="form-control" id="name" required [(ngModel)]="model.name" name="name">
      <!-- truthy if the element with #name template attached is falsey -->
      <div [hidden]="name.valid || name.pristine" class="alert-danger">
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="requstType">Request Type</label>
      <br>
      <select class="form-control" id="requestType" required [(ngModel)]="model.requestType" name="requestType">
        <option *ngFor="let req of requestType" [value]="req">{{req}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <br>
      <input type="text" #email='ngModel' class="form-control" id="email" required [(ngModel)]="model.email"
        name="email">
      <div [hidden]="email.valid || email.pristine" class="alert-danger">
        Email is required
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Phone Number</label>
      <br>
      <input type="text" class="form-control" id="phone" [(ngModel)]="model.phone" name="phone">
    </div>

    <div class="form-group">
      <label for="message">Message</label>
      <br>
      <input type="text" #message='ngModel' class="form-control" id="message" required [(ngModel)]="model.message"
        name="message">
      <div [hidden]="message.valid || message.pristine" class="alert-danger">
        Please enter a message
      </div>
      <br>
      <br>
      <button type="submit" class="btn btn-success" [disabled]="!contactForm.form.valid">Submit</button>
    </div>
  </form>
</div>

<div [hidden]="!submitted">
  <p>Thank you for the message! You will recieve a response as soon as possible.</p>
  <button type='button' class="btn" (click)="contactForm.reset(); submitted=false">Submit another
    request</button>
  <button type='button' class="btn" routerLink="/home">Home</button>
</div>